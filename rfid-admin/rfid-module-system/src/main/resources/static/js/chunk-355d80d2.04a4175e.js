(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-355d80d2","chunk-27251802","chunk-68ff8a58","chunk-7f6a83ef","chunk-7c6a5d7c","chunk-05ad0f38"],{"0ea0":function(e,t,a){},1093:function(e,t,a){},"19a5":function(e,t,a){"use strict";var s=a("1093"),r=a.n(s);r.a},"1c87":function(e,t,a){"use strict";var s=a("0ea0"),r=a.n(s);r.a},"58e3":function(e,t,a){"use strict";var s=a("7d19"),r=a.n(s);r.a},"64b2":function(e,t,a){},"67e6":function(e,t,a){},"7d19":function(e,t,a){},"8e46":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-form",{staticStyle:{margin:"40px auto 0"}},[a("result",{attrs:{title:"更改密码成功","is-success":!0}},[a("div",{staticClass:"toLogin"},[a("h3",[e._v("将在"),a("span",[e._v(e._s(e.time))]),e._v("秒后返回登录页面.")])])])],1)],1)},r=[],n=a("9a3d"),i={name:"Step4",props:["userList"],components:{Result:n["default"]},data:function(){return{loading:!1,time:0}},methods:{countDown:function(){var e=this;e.time--}},mounted:function(){var e=this;e.time=5,setInterval(e.countDown,1e3)},watch:{time:function(e,t){if(0==e){var a={username:this.userList.username};this.$router.push({name:"login",params:a})}}}},o=i,c=(a("c8be"),a("2877")),u=Object(c["a"])(o,s,r,!1,null,"5bfb6b54",null);t["default"]=u.exports},"9a3d":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"result"},[a("div",[a("a-icon",{class:[e.isSuccess?"success":"error","icon"],attrs:{type:e.isSuccess?"check-circle":"close-circle"}})],1),e.title?a("div",{staticClass:"title"},[e._v(e._s(e.title))]):e._e(),e.description?a("div",{staticClass:"description"},[e._v(e._s(e.description))]):e._e(),e.content?a("div",{staticClass:"content"},[e._t("default")],2):e._e(),a("div",{staticClass:"action"},[e._t("action")],2)])},r=[],n={name:"Result",props:{isSuccess:{type:Boolean,default:!1},title:{type:String,default:""},description:{type:String,default:""},content:{type:Boolean,default:!0}}},i=n,o=(a("58e3"),a("2877")),c=Object(o["a"])(i,s,r,!1,null,"6732bfa0",null);t["default"]=c.exports},ba6d:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-form",{staticStyle:{"max-width":"500px",margin:"40px auto 0"},attrs:{form:e.form},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.nextStep(t)}}},[a("a-form-item",{attrs:{label:"手机",labelCol:{span:5},wrapperCol:{span:19}}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["phone",{rules:e.validatorRules.phone.rule}],expression:"['phone',{ rules: validatorRules.phone.rule}]"}],staticStyle:{width:"310px","margin-left":"-10px"},attrs:{type:"text",autocomplete:"false",placeholder:"请输入手机号"}},[a("a-icon",{style:{color:"rgba(0,0,0,.25)"},attrs:{slot:"prefix",type:"phone"},slot:"prefix"})],1)],1),e.show?a("a-form-item",{attrs:{label:"验证码",labelCol:{span:5},wrapperCol:{span:19}}},[a("a-row",{staticStyle:{"margin-left":"2px"},attrs:{gutter:16}},[a("a-col",{staticClass:"gutter-row",attrs:{span:12}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["captcha",e.validatorRules.captcha],expression:"['captcha',validatorRules.captcha]"}],attrs:{type:"text",placeholder:"手机短信验证码"}})],1),a("a-col",{staticClass:"gutter-row",attrs:{span:8}},[a("a-button",{attrs:{tabindex:"-1",size:"default",disabled:e.state.smsSendBtn},domProps:{textContent:e._s(e.state.smsSendBtn?e.state.time+" s":"获取验证码")},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.getCaptcha(t)}}})],1)],1)],1):e._e(),a("a-form-item",{attrs:{wrapperCol:{span:19,offset:5}}},[a("router-link",{staticStyle:{float:"left","line-height":"40px"},attrs:{to:{name:"login"}}},[e._v("使用已有账户登录")]),a("a-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary"},on:{click:e.nextStep}},[e._v("下一步")])],1)],1)],1)},r=[],n=a("0fea"),i={name:"Step2",props:["userList"],data:function(){return{form:this.$form.createForm(this),loading:!1,dropList:"0",captcha:"",show:!0,state:{time:60,smsSendBtn:!1},formLogin:{captcha:"",mobile:""},validatorRules:{captcha:{rule:[{required:!0,message:"请输入短信验证码!"},{validator:this.validateCaptcha}]},phone:{rule:[{required:!0,message:"请输入手机号码!"},{validator:this.validatePhone}]}}}},computed:{},methods:{nextStep:function(){var e=this,t=this;t.loading=!0,this.form.validateFields((function(a,s){if(!a&&"0"==t.dropList)if(void 0==s.captcha)e.cmsFailed("请输入短信验证码!");else{var r={};r.phone=s.phone,r.smscode=s.captcha,Object(n["i"])("/sys/user/phoneVerification",r).then((function(a){if(a.success){var r={username:a.result.username,phone:s.phone,smscode:a.result.smscode};setTimeout((function(){t.$emit("nextStep",r)}),0)}else e.cmsFailed(a.message)}))}}))},getCaptcha:function(e){var t=this;e.preventDefault();var a=this,s=a.form.getFieldValue("phone");if(s){this.state.smsSendBtn=!0;var r=window.setInterval((function(){a.state.time--<=0&&(a.state.time=60,a.state.smsSendBtn=!1,window.clearInterval(r))}),1e3),i=this.$message.loading("验证码发送中..",0),o={mobile:s,smsmode:"2"};Object(n["i"])("/sys/sms",o).then((function(e){e.success||(setTimeout(i,1),t.cmsFailed(e.message)),setTimeout(i,500)}))}else this.cmsFailed("手机号不能为空!")},cmsFailed:function(e){this.$notification["error"]({message:"验证错误",description:e,duration:4})},handleChangeSelect:function(e){var t=this;0==e?(t.dropList="0",t.show=!0):(t.dropList="1",t.show=!1)},validatePhone:function(e,t,a){if(t){var s=/^[1][3,4,5,7,8][0-9]{9}$/;s.test(t)?a():a("请输入正确的手机号")}else a()}}},o=i,c=(a("1c87"),a("2877")),u=Object(c["a"])(o,s,r,!1,null,"fc8b1fe4",null);t["default"]=u.exports},c8be:function(e,t,a){"use strict";var s=a("64b2"),r=a.n(s);r.a},d5ac:function(e,t){e.exports="data:image/png;base64,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"},e57a:function(e,t,a){"use strict";var s=a("67e6"),r=a.n(s);r.a},f14a:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"main"},[s("a-form",{staticStyle:{"max-width":"500px",margin:"40px auto 0"},attrs:{form:e.form},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.nextStep(t)}}},[s("a-form-item",[s("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["username",e.validatorRules.username],expression:"['username',validatorRules.username]"}],attrs:{size:"large",type:"text",autocomplete:"false",placeholder:"请输入用户账号或手机号"}},[s("a-icon",{style:{color:"rgba(0,0,0,.25)"},attrs:{slot:"prefix",type:"lock"},slot:"prefix"})],1)],1),s("a-row",{attrs:{gutter:0}},[s("a-col",{attrs:{span:14}},[s("a-form-item",[s("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["inputCode",e.validatorRules.inputCode],expression:"['inputCode',validatorRules.inputCode]"}],attrs:{size:"large",type:"text",placeholder:"请输入验证码"},on:{change:e.inputCodeChange}},[e.inputCodeContent==e.verifiedCode?s("a-icon",{style:{color:"rgba(0,0,0,.25)"},attrs:{slot:"prefix",type:"smile"},slot:"prefix"}):s("a-icon",{style:{color:"rgba(0,0,0,.25)"},attrs:{slot:"prefix",type:"frown"},slot:"prefix"})],1)],1)],1),s("a-col",{staticStyle:{"text-align":"right"},attrs:{span:10}},[e.requestCodeSuccess?s("img",{staticStyle:{"margin-top":"2px"},attrs:{src:e.randCodeImage},on:{click:e.handleChangeCheckCode}}):s("img",{staticStyle:{"margin-top":"2px"},attrs:{src:a("d5ac")},on:{click:e.handleChangeCheckCode}})])],1),s("a-form-item",{attrs:{wrapperCol:{span:19,offset:5}}},[s("router-link",{staticStyle:{float:"left","line-height":"40px"},attrs:{to:{name:"login"}}},[e._v("使用已有账户登录")]),s("a-button",{attrs:{type:"primary"},on:{click:e.nextStep}},[e._v("下一步")])],1)],1)],1)},r=[],n=a("0fea"),i=a("4ec3"),o={name:"Step1",data:function(){return{form:this.$form.createForm(this),inputCodeContent:"",inputCodeNull:!0,verifiedCode:"",validatorRules:{username:{rules:[{required:!1},{validator:this.validateInputUsername}]},inputCode:{rules:[{required:!0,message:"请输入验证码!"}]}},randCodeImage:"",requestCodeSuccess:!0,currdatetime:""}},created:function(){this.handleChangeCheckCode()},methods:{handleChangeCheckCode:function(){var e=this;this.currdatetime=(new Date).getTime(),Object(n["c"])("/sys/randomImage/".concat(this.currdatetime)).then((function(t){t.success?(e.randCodeImage=t.result,e.requestCodeSuccess=!0):(e.$message.error(t.message),e.requestCodeSuccess=!1)})).catch((function(){e.requestCodeSuccess=!1}))},nextStep:function(){var e=this;this.form.validateFields((function(t,a){if(!t){var s=!1,r={},i=/^[1-9]\d*$|^0$/,o=a.username;1==i.test(o)?(r.phone=o,s=!0):r.username=o,e.validateInputCode().then((function(){Object(n["c"])("/sys/user/querySysUser",r).then((function(t){if(t.success){var a={username:t.result.username,phone:t.result.phone,isPhone:s};setTimeout((function(){e.$emit("nextStep",a)}))}}))}))}}))},validateInputCode:function(){var e=this;return new Promise((function(t,a){Object(n["i"])("/sys/checkCaptcha",{captcha:e.inputCodeContent,checkKey:e.currdatetime}).then((function(s){s.success?t():(e.$message.error(s.message),a())}))}))},inputCodeChange:function(e){this.inputCodeContent=e.target.value,e.target.value&&0!=e.target.value?(this.inputCodeContent=this.inputCodeContent.toLowerCase(),this.inputCodeNull=!1):this.inputCodeNull=!0},generateCode:function(e){this.verifiedCode=e.toLowerCase()},validateInputUsername:function(e,t,a){var s=/^[0-9]+.?[0-9]*/;if(t||a("请输入用户名和手机号！"),s.test(t)){var r={phone:t};Object(i["h"])(r).then((function(e){e.success?a("用户名不存在!"):a()}))}else{r={username:t};Object(i["h"])(r).then((function(e){e.success?a("用户名不存在!"):a()}))}}}},c=o,u=a("2877"),l=Object(u["a"])(c,s,r,!1,null,"e6d6156e",null);t["default"]=l.exports},f6d9:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-form",{staticStyle:{"max-width":"500px",margin:"40px auto 0"},attrs:{form:e.form}},[a("a-form-item",{attrs:{label:"账号名",labelCol:{span:5},wrapperCol:{span:19}}},[a("a-input",{attrs:{type:"text",autocomplete:"false",value:e.accountName,disabled:""}})],1),a("a-form-item",{staticClass:"stepFormText",attrs:{label:"新密码",labelCol:{span:5},wrapperCol:{span:19}}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["password",e.validatorRules.password],expression:"['password',validatorRules.password]"}],attrs:{type:"password",autocomplete:"false"}})],1),a("a-form-item",{staticClass:"stepFormText",attrs:{label:"确认密码",labelCol:{span:5},wrapperCol:{span:19}}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["confirmPassword",e.validatorRules.confirmPassword],expression:"['confirmPassword',validatorRules.confirmPassword]"}],attrs:{type:"password",autocomplete:"false"}})],1),a("a-form-item",{attrs:{wrapperCol:{span:19,offset:5}}},[a("a-button",{staticStyle:{"margin-left":"8px"},on:{click:e.prevStep}},[e._v("上一步")]),a("a-button",{staticStyle:{"margin-left":"20px"},attrs:{loading:e.loading,type:"primary"},on:{click:e.nextStep}},[e._v("提交")])],1)],1)],1)},r=[],n=a("0fea"),i={name:"Step3",props:["userList"],data:function(){return{loading:!1,form:this.$form.createForm(this),accountName:this.userList.username,validatorRules:{username:{rules:[{required:!0,message:"用户名不能为空!"}]},password:{rules:[{required:!0,pattern:/^(?=.*[a-zA-Z])(?=.*\d)(?=.*[~!@#$%^&*()_+`\-={}:";'<>?,.\/]).{8,}$/,message:"密码由8位数字、大小写字母和特殊符号组成!!"},{validator:this.handlePasswordLevel}]},confirmPassword:{rules:[{required:!0,message:"密码不能为空!"},{validator:this.handlePasswordCheck}]}}}},methods:{nextStep:function(){var e=this,t=this;t.loading=!0,this.form.validateFields((function(a,s){if(a)t.loading=!1;else{var r={};r.username=e.userList.username,r.password=s.password,r.smscode=e.userList.smscode,r.phone=e.userList.phone,Object(n["c"])("/sys/user/passwordChange",r).then((function(a){if(a.success){var s={username:e.userList.username};setTimeout((function(){t.$emit("nextStep",s)}),1500)}else e.passwordFailed(a.message),t.loading=!1}))}}))},prevStep:function(){this.$emit("prevStep",this.userList)},handlePasswordCheck:function(e,t,a){var s=this.form.getFieldValue("password");t&&s&&t.trim()!==s.trim()&&a(new Error("两次密码不一致")),a()},passwordFailed:function(e){this.$notification["error"]({message:"更改密码失败",description:e,duration:4})}}},o=i,c=(a("e57a"),a("2877")),u=Object(c["a"])(o,s,r,!1,null,"cf3c3ea8",null);t["default"]=u.exports},ffc3:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-card",{staticStyle:{width:"130%","text-align":"center","margin-left":"-10%"},attrs:{bordered:!1}},[a("a-steps",{staticClass:"steps",attrs:{current:e.currentTab}},[a("a-step",{attrs:{title:"手机验证"}}),a("a-step",{attrs:{title:"密码"}}),a("a-step",{attrs:{title:"完成"}})],1),a("div",{staticClass:"content"},[0===e.currentTab?a("step2",{on:{nextStep:e.nextStep}}):e._e(),1===e.currentTab?a("step3",{attrs:{userList:e.userList},on:{nextStep:e.nextStep,prevStep:e.prevStep}}):e._e(),2===e.currentTab?a("step4",{attrs:{userList:e.userList},on:{prevStep:e.prevStep,finish:e.finish}}):e._e()],1)],1)},r=[],n=a("f14a"),i=a("ba6d"),o=a("f6d9"),c=a("8e46"),u={name:"Alteration",components:{Step1:n["default"],Step2:i["default"],Step3:o["default"],Step4:c["default"]},data:function(){return{description:"将一个冗长或用户不熟悉的表单任务分成多个步骤，指导用户完成。",currentTab:0,userList:{},form:null}},methods:{nextStep:function(e){this.userList=e,this.currentTab<4&&(this.currentTab+=1)},prevStep:function(e){this.userList=e,this.currentTab>0&&(this.currentTab-=1)},finish:function(){this.currentTab=0}}},l=u,p=(a("19a5"),a("2877")),d=Object(p["a"])(l,s,r,!1,null,"e9f3f206",null);t["default"]=d.exports}}]);