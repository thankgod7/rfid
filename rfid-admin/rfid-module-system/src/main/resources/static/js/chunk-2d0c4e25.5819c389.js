(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c4e25"],{"3d75":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-skeleton",{attrs:{active:"",loading:t.loading,paragraph:{rows:17}}},[a("a-card",{staticClass:"card-area",attrs:{bordered:!1}},[a("a-alert",{attrs:{type:"info",showIcon:!0}},[a("div",{attrs:{slot:"message"},slot:"message"},[t._v("\n        共追踪到 "+t._s(t.dataSource.length)+" 条近期HTTP请求记录\n        "),a("a-divider",{attrs:{type:"vertical"}}),a("a",{on:{click:t.handleClickUpdate}},[t._v("立即刷新")])],1)]),a("a-table",{staticStyle:{"margin-top":"20px"},attrs:{columns:t.columns,dataSource:t.dataSource,pagination:t.pagination,loading:t.tableLoading,scroll:{x:900}},on:{change:t.handleTableChange},scopedSlots:t._u([{key:"timeTaken",fn:function(e){return[a("a-tag",e<500?{attrs:{color:"green"}}:e<1e3?{attrs:{color:"cyan"}}:e<1500?{attrs:{color:"orange"}}:{attrs:{color:"red"}},[t._v(t._s(e)+" ms")])]}},{key:"responseStatus",fn:function(e){return[e<200?a("a-tag",{attrs:{color:"pink"}},[t._v(t._s(e)+" ")]):e<201?a("a-tag",{attrs:{color:"green"}},[t._v(t._s(e)+" ")]):e<399?a("a-tag",{attrs:{color:"cyan"}},[t._v(t._s(e)+" ")]):e<403?a("a-tag",{attrs:{color:"orange"}},[t._v(t._s(e)+" ")]):e<501?a("a-tag",{attrs:{color:"red"}},[t._v(t._s(e)+" ")]):a("span",[t._v(t._s(e))])]}},{key:"requestMethod",fn:function(e){return["GET"===e?a("a-tag",{attrs:{color:"#87d068"}},[t._v(t._s(e))]):"POST"===e?a("a-tag",{attrs:{color:"#2db7f5"}},[t._v(t._s(e))]):"PUT"===e?a("a-tag",{attrs:{color:"#ffba5a"}},[t._v(t._s(e))]):"DELETE"===e?a("a-tag",{attrs:{color:"#f50"}},[t._v(t._s(e))]):a("span",[t._v(t._s(e)+" ms")])]}}])})],1)],1)},r=[],o=a("c1df"),s=a.n(o),c=a("0fea");s.a.locale("zh-cn");var l={data:function(){return{advanced:!1,dataSource:[],pagination:{defaultPageSize:10,defaultCurrent:1,pageSizeOptions:["10","20","30","40","100"],showQuickJumper:!0,showSizeChanger:!0,showTotal:function(t,e){return"显示 ".concat(e[0]," ~ ").concat(e[1]," 条记录，共 ").concat(t," 条记录")}},loading:!0,tableLoading:!0}},computed:{columns:function(){return[{title:"请求时间",dataIndex:"timestamp",customRender:function(t){return s()(t).format("YYYY-MM-DD HH:mm:ss")}},{title:"请求方法",dataIndex:"request.method",scopedSlots:{customRender:"requestMethod"},filters:[{text:"GET",value:"GET"},{text:"POST",value:"POST"},{text:"PUT",value:"PUT"},{text:"DELETE",value:"DELETE"}],filterMultiple:!0,onFilter:function(t,e){return e.request.method.includes(t)}},{title:"请求URL",dataIndex:"request.uri",customRender:function(t){return t.split("?")[0]}},{title:"响应状态",dataIndex:"response.status",scopedSlots:{customRender:"responseStatus"}},{title:"请求耗时",dataIndex:"timeTaken",scopedSlots:{customRender:"timeTaken"}}]}},mounted:function(){this.fetch()},methods:{handleClickUpdate:function(){this.fetch()},handleTableChange:function(){this.fetch()},fetch:function(){var t=this;this.tableLoading=!0,Object(c["c"])("actuator/httptrace").then((function(e){var a=[],n=!0,r=!1,o=void 0;try{for(var s,c=e.traces[Symbol.iterator]();!(n=(s=c.next()).done);n=!0){var l=s.value;"OPTIONS"!==l.request.method&&-1===l.request.uri.indexOf("httptrace")&&a.push(l)}}catch(i){r=!0,o=i}finally{try{n||null==c.return||c.return()}finally{if(r)throw o}}t.dataSource=a})).catch((function(e){t.$message.error("获取HTTP信息失败")})).finally((function(){t.loading=!1,t.tableLoading=!1}))}}},i=l,u=a("2877"),d=Object(u["a"])(i,n,r,!1,null,null,null);e["default"]=d.exports}}]);